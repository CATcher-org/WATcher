<div>
  <mat-grid-list cols="3" rowHeight="80px">
    <mat-grid-tile>
      <div class="grid-flush-left">
        <h1 class="mat-headline" style="margin: 0px">
          {{ userService.currentUser.role === 'Student' ? 'Issues' : 'All Issues' }}
        </h1>
      </div>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field class="full-grid-width">
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search" />
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <div class="grid-flush-right">
        <mat-button-toggle-group [(ngModel)]="currentView" aria-label="View Mode">
          <mat-button-toggle [value]="Views.Cards">
            <mat-icon>space_dashboard</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle [value]="Views.Table">
            <mat-icon>view_carousel</mat-icon>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <mat-grid-list cols="3" rowHeight="80px">
    <mat-form-field appearance="fill">
      <mat-label>Status</mat-label>
      <mat-select [(value)]="this.dropdownFilter.status" (selectionChange)="applyDropdownFilter()">
        <mat-option value="all">All</mat-option>
        <mat-option value="open">Open</mat-option>
        <mat-option value="closed">Closed</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Type</mat-label>
      <mat-select [(value)]="this.dropdownFilter.type" (selectionChange)="applyDropdownFilter()">
        <mat-option value="all">All</mat-option>
        <mat-option value="issue">Issue</mat-option>
        <mat-option value="pullrequest">Pull Request</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Sort</mat-label>
      <mat-select [(value)]="this.dropdownFilter.sort" (selectionChange)="applyDropdownFilter()">
        <mat-option value="id">ID</mat-option>
        <mat-option value="title">Title</mat-option>
        <mat-option value="date">Date</mat-option>
      </mat-select>
    </mat-form-field>
  </mat-grid-list>

  <div *ngIf="this.currentView === Views.Table" style="display: flex">
    <app-issue-tables
      *ngFor="let assignee of assignees"
      class="issue-table"
      [assignee]="assignee"
      [headers]="this.displayedColumns"
      [actions]="this.actionButtons"
    ></app-issue-tables>
  </div>
  <div *ngIf="this.currentView === Views.Cards" style="display: flex">
    <app-card-view
      *ngFor="let assignee of assignees"
      class="issue-table"
      [assignee]="assignee"
      [headers]="this.displayedColumns"
      [actions]="this.actionButtons"
    ></app-card-view>
  </div>
</div>
