<div>
  <mat-grid-list cols="3" rowHeight="80px">
    <mat-grid-tile>
      <div class="grid-flush-left">
        <h1 class="mat-headline" style="margin: 0px">
          {{ userService.currentUser.role === 'Student' ? 'Issues' : 'All Issues' }}
        </h1>
      </div>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field class="full-grid-width">
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search" />
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <div class="grid-flush-right">
        <mat-button-toggle-group [(ngModel)]="currentView" aria-label="View Mode">
          <mat-button-toggle [value]="Views.Cards">
            <mat-icon>space_dashboard</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle [value]="Views.Table">
            <mat-icon>view_carousel</mat-icon>
          </mat-button-toggle>
        </mat-button-toggle-group>
        <button
          *ngIf="permissions.isIssueCreatable()"
          mat-stroked-button
          class="create-new-bug-report-button"
          color="primary"
          routerLink="issues/new"
        >
          New Issue
        </button>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <div *ngIf="this.currentView === Views.Table" style="display: flex">
    <app-issue-tables
      *ngFor="let assignee of assignees"
      class="issue-table"
      [assignee]="assignee"
      [headers]="this.displayedColumns"
      [actions]="this.actionButtons"
    ></app-issue-tables>
  </div>
  <div *ngIf="this.currentView === Views.Cards" style="display: flex">
    <app-card-view
      *ngFor="let assignee of assignees"
      class="issue-table"
      [assignee]="assignee"
      [headers]="this.displayedColumns"
      [actions]="this.actionButtons"
    ></app-card-view>
  </div>
</div>
