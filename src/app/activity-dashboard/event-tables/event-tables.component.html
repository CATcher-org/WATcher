<h1 *ngIf="this.actor !== undefined">
  {{ this.actor.login }}
</h1>

<button (click)="reload()">Reload table</button>

<mat-table [dataSource]="this.githubEvents" matSort class="mat-elevation-z8">
  <!-- ID Column -->
  <ng-container matColumnDef="id">
    <mat-header-cell *matHeaderCellDef mat-sort-header> ID </mat-header-cell>
    <mat-cell *matCellDef="let githubEvent">
      <span (click)="$event.stopPropagation()" style="cursor: default">{{ githubEvent.id }}</span>
    </mat-cell>
  </ng-container>

  <!-- Title Column -->
  <ng-container matColumnDef="title">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Title </mat-header-cell>
    <mat-cell *matCellDef="let githubEvent">
      {{ this.fitTitleText(githubEvent.title) }}
    </mat-cell>
  </ng-container>

  <!-- Date Column -->
  <ng-container matColumnDef="date">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>
    <mat-cell *matCellDef="let githubEvent">
      <span (click)="$event.stopPropagation()" style="cursor: default">{{ githubEvent.date }}</span>
    </mat-cell>
  </ng-container>

  <!-- Issue Count Column -->
  <ng-container matColumnDef="issueCount">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Issues # </mat-header-cell>
    <mat-cell *matCellDef="let githubEvent">
      <span (click)="$event.stopPropagation()" style="cursor: default">Insert issueCount</span>
    </mat-cell>
  </ng-container>

  <!-- PR Count Column -->
  <ng-container matColumnDef="prCount">
    <mat-header-cell *matHeaderCellDef mat-sort-header> PR # </mat-header-cell>
    <mat-cell *matCellDef="let githubEvent">
      <span (click)="$event.stopPropagation()" style="cursor: default">Insert prCount</span>
    </mat-cell>
  </ng-container>

  <!-- Comment Count Column -->
  <ng-container matColumnDef="commentCount">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Comments # </mat-header-cell>
    <mat-cell *matCellDef="let githubEvent">
      <span (click)="$event.stopPropagation()" style="cursor: default">Insert commentCount</span>
    </mat-cell>
  </ng-container>

  <!-- Action Buttons Column -->
  <ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
    <mat-cell *matCellDef="let githubEvent">
      <button
        mat-button
        matTooltip="View this githubEvent on GitHub"
        *ngIf="this.isActionVisible(action_buttons.VIEW_IN_WEB)"
        (click)="this.viewgithubEventInBrowser(githubEvent.id, $event)"
        style="transform: scale(0.8)"
      >
        <mat-icon>open_in_new</mat-icon>
      </button>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="this.headers"></mat-header-row>>
  <mat-row *matRowDef="let githubEvent; columns: this.headers" style="cursor: pointer"></mat-row>
</mat-table>

<mat-card *ngIf="this.githubEvents.isLoading$ | async" style="display: flex; justify-content: center; align-items: center">
  <mat-progress-spinner color="primary" mode="indeterminate" diameter="50" strokeWidth="5"></mat-progress-spinner>
</mat-card>
<mat-paginator [pageSize]="20" [pageSizeOptions]="[10, 20, 50]"></mat-paginator>
